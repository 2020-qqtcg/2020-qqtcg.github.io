<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>è½¯ä»¶åˆ†æ | åˆ’æ°´æ‘¸é±¼</title><meta name="keywords" content="ç¨‹åºè¯­è¨€,é™æ€åˆ†æ"><meta name="author" content="jianjian"><meta name="copyright" content="jianjian"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="01-Introductionä¸ºä»€ä¹ˆéœ€è¦é™æ€åˆ†æ  ç¨‹åºå¯é æ€§ï¼šä¾‹å¦‚ç©ºæŒ‡é’ˆå¼•ç”¨ï¼Œå†…å­˜æ³„éœ² ç¨‹åºå®‰å…¨æ€§ï¼šç§æœ‰ä¿¡æ¯æ³„éœ²ï¼Œæ³¨å…¥æ”»å‡»ç­‰ç­‰ ç¼–è¯‘ä¼˜åŒ–ï¼šDead code elimination, code motion ç¨‹åºç†è§£ï¼šIDEä¸­å“ªäº›æ–¹æ³•è¢«è°ƒç”¨ï¼Œè°ƒç”¨äº†å“ªäº›æ–¹æ³•ï¼Œç±»å‹æ£€æµ‹  Sound  å¤šæŠ¥ï¼Œè¯¯æŠ¥ï¼ŒåŒ…å«Truth  Complete  å°‘æŠ¥ï¼Œæ¼æŠ¥ï¼Œä¸€å®šæ˜¯Truth   useful static a">
<meta property="og:type" content="article">
<meta property="og:title" content="è½¯ä»¶åˆ†æ">
<meta property="og:url" content="https://mujian.work/2022/09/19/%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90/index.html">
<meta property="og:site_name" content="åˆ’æ°´æ‘¸é±¼">
<meta property="og:description" content="01-Introductionä¸ºä»€ä¹ˆéœ€è¦é™æ€åˆ†æ  ç¨‹åºå¯é æ€§ï¼šä¾‹å¦‚ç©ºæŒ‡é’ˆå¼•ç”¨ï¼Œå†…å­˜æ³„éœ² ç¨‹åºå®‰å…¨æ€§ï¼šç§æœ‰ä¿¡æ¯æ³„éœ²ï¼Œæ³¨å…¥æ”»å‡»ç­‰ç­‰ ç¼–è¯‘ä¼˜åŒ–ï¼šDead code elimination, code motion ç¨‹åºç†è§£ï¼šIDEä¸­å“ªäº›æ–¹æ³•è¢«è°ƒç”¨ï¼Œè°ƒç”¨äº†å“ªäº›æ–¹æ³•ï¼Œç±»å‹æ£€æµ‹  Sound  å¤šæŠ¥ï¼Œè¯¯æŠ¥ï¼ŒåŒ…å«Truth  Complete  å°‘æŠ¥ï¼Œæ¼æŠ¥ï¼Œä¸€å®šæ˜¯Truth   useful static a">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220919223230209.png">
<meta property="article:published_time" content="2022-09-19T14:28:55.000Z">
<meta property="article:modified_time" content="2022-12-24T08:28:09.602Z">
<meta property="article:author" content="jianjian">
<meta property="article:tag" content="ç¨‹åºè¯­è¨€">
<meta property="article:tag" content="é™æ€åˆ†æ">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220919223230209.png"><link rel="shortcut icon" href="https://s2.loli.net/2022/04/19/pm7NeZBgDW3VJIP.png"><link rel="canonical" href="https://mujian.work/2022/09/19/%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":600},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'å¤©',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'è½¯ä»¶åˆ†æ',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-12-24 16:28:09'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.1.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://s2.loli.net/2022/04/19/dkPLexUuNBIclp4.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">20</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">13</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">6</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> æ¸…å•</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> ç”µå½±</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220919223230209.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">åˆ’æ°´æ‘¸é±¼</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> æ¸…å•</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> ç”µå½±</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">è½¯ä»¶åˆ†æ</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2022-09-19T14:28:55.000Z" title="å‘è¡¨äº 2022-09-19 22:28:55">2022-09-19</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2022-12-24T08:28:09.602Z" title="æ›´æ–°äº 2022-12-24 16:28:09">2022-12-24</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/">ç¨‹åºè¯­è¨€</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">5.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>23åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="è½¯ä»¶åˆ†æ"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="01-Introduction"><a href="#01-Introduction" class="headerlink" title="01-Introduction"></a>01-Introduction</h1><p>ä¸ºä»€ä¹ˆéœ€è¦é™æ€åˆ†æ</p>
<ul>
<li>ç¨‹åºå¯é æ€§ï¼šä¾‹å¦‚ç©ºæŒ‡é’ˆå¼•ç”¨ï¼Œå†…å­˜æ³„éœ²</li>
<li>ç¨‹åºå®‰å…¨æ€§ï¼šç§æœ‰ä¿¡æ¯æ³„éœ²ï¼Œæ³¨å…¥æ”»å‡»ç­‰ç­‰</li>
<li>ç¼–è¯‘ä¼˜åŒ–ï¼šDead code elimination, code motion</li>
<li>ç¨‹åºç†è§£ï¼šIDEä¸­å“ªäº›æ–¹æ³•è¢«è°ƒç”¨ï¼Œè°ƒç”¨äº†å“ªäº›æ–¹æ³•ï¼Œç±»å‹æ£€æµ‹</li>
</ul>
<p>Sound</p>
<ul>
<li>å¤šæŠ¥ï¼Œè¯¯æŠ¥ï¼ŒåŒ…å«Truth</li>
</ul>
<p>Complete</p>
<ul>
<li>å°‘æŠ¥ï¼Œæ¼æŠ¥ï¼Œä¸€å®šæ˜¯Truth</li>
</ul>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220919210200444.png" alt="image-20220919210200444"></p>
<p>useful static analysis</p>
<ul>
<li>Compromise soundness (false negatives)</li>
<li>Compromise completeness (false positives)</li>
</ul>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220919210412568.png" alt="image-20220919210412568"></p>
<p>å¤§éƒ¨åˆ†é™æ€åˆ†æè¿½æ±‚soundï¼Œä¸å®Œå…¨å‡†ç¡®çš„é™æ€åˆ†æ</p>
<h2 id="Soundnessçš„å¿…è¦æ€§"><a href="#Soundnessçš„å¿…è¦æ€§" class="headerlink" title="Soundnessçš„å¿…è¦æ€§"></a>Soundnessçš„å¿…è¦æ€§</h2><p>Soundness is critical to a collection of important (static-analysis) applications such as compiler optimization and program verification</p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220919212323491.png" alt="image-20220919212323491"></p>
<h2 id="é™æ€åˆ†æä¾‹å­"><a href="#é™æ€åˆ†æä¾‹å­" class="headerlink" title="é™æ€åˆ†æä¾‹å­"></a>é™æ€åˆ†æä¾‹å­</h2><p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220919212412301.png" alt="image-20220919212412301"></p>
<p>é‡‡ç”¨2çš„ç»“æœ</p>
<p>é™æ€åˆ†æç¡®ä¿soundnessï¼Œåœ¨åˆ†æçš„ç²¾åº¦å’Œé€Ÿåº¦ä¸Šåšä¸€ä¸ªæœ‰æ•ˆçš„å¹³è¡¡</p>
<p><strong>é™æ€åˆ†æï¼šAbstraction + Over-approximation</strong></p>
<p>Abstraction</p>
<ul>
<li><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220919214258081.png" alt="image-20220919214258081"></li>
</ul>
<p><strong>Over-approximation</strong></p>
<p>Transfer Function</p>
<ul>
<li>In static analysis, transfer functions define how to evaluate different program statements on abstract values</li>
<li>Transfer functions are defined according to â€œanalysis problemâ€ and the â€œsemanticsâ€ of different program statements</li>
<li><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220919214805936.png" alt="image-20220919214805936"></li>
<li><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220919214823980.png" alt="image-20220919214823980"><ul>
<li>é™æ€åˆ†æå¯ä»¥å¾—å‡ºé™¤é›¶é”™è¯¯å’Œè´Ÿæ•°ç´¢å¼•é”™è¯¯ï¼Œä½†é™æ€åˆ†æä¹Ÿä¼šäº§ç”Ÿè¯¯æŠ¥ï¼ˆfalse positiveï¼‰</li>
</ul>
</li>
</ul>
<p>Control Flows</p>
<ul>
<li><p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220919222306454.png" alt="image-20220919222306454"></p>
</li>
<li><p>åœ¨å®è·µä¸­ä¸å¯èƒ½åˆ—ä¸¾å‡ºæ‰€æœ‰çš„è·¯å¾„ï¼Œæµåˆå¹¶åœ¨é™æ€åˆ†æä¸­æ¯”è¾ƒè¢«è®¤ä¸ºæ˜¯ç†æ‰€å½“ç„¶çš„</p>
</li>
</ul>
<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><blockquote>
<p>æ€è€ƒï¼š</p>
<ul>
<li>What are the differences between static analysis and (dynamic) testing? </li>
<li>Understand soundness, completeness, false negatives, and false positives. </li>
<li>Why soundness is usually required by static analysis? </li>
<li>How to understand abstraction and over-approximation?</li>
</ul>
</blockquote>
<h1 id="02-Intermediate-Representation"><a href="#02-Intermediate-Representation" class="headerlink" title="02-Intermediate Representation"></a>02-Intermediate Representation</h1><h2 id="Compilers-and-Static-Analyzers"><a href="#Compilers-and-Static-Analyzers" class="headerlink" title="Compilers and Static Analyzers"></a>Compilers and Static Analyzers</h2><p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220922101222603.png" alt="image-20220922101222603"></p>
<ul>
<li>Lexical Analysis è¯æ³•åˆ†æï¼Œåˆ†æåˆæ³•ç”ŸæˆTokensç»™ä¸‹ä¸€æ­¥ç»§ç»­åˆ†æ</li>
<li>Syntax Analysis è¯­æ³•åˆ†æå™¨ï¼Œè½¬æ¢ä¸ºæŠ½è±¡è¯­æ³•æ ‘</li>
<li>Semantic Analysis è¯­ä¹‰åˆ†æï¼Œä¸»è¦æ˜¯ç±»å‹æ£€æŸ¥ï¼Œç”ŸæˆDecorated AST</li>
<li>è½¬æ¢å™¨è½¬åŒ–ä¸ºä¸€ç§ä¸­é—´è¡¨ç¤ºå½¢å¼ï¼Œç„¶åç»§ç»­ç”ŸæˆMachine Codeï¼Œç¼–è¯‘ä¼˜åŒ–æ˜¯ä¸€ç§é™æ€åˆ†æåˆ†ææŠ€æœ¯</li>
</ul>
<h2 id="AST-vs-IR"><a href="#AST-vs-IR" class="headerlink" title="AST vs. IR"></a>AST vs. IR</h2><p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220922105358837.png" alt="image-20220922105358837"></p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">AST</th>
<th style="text-align:center">IR</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">high-level and closed to grammar structure</td>
<td style="text-align:center">low-level and closed to machine code</td>
</tr>
<tr>
<td style="text-align:center">usually language dependent</td>
<td style="text-align:center">usually language independent</td>
</tr>
<tr>
<td style="text-align:center">suitable for fast type checking</td>
<td style="text-align:center">compact and uniform</td>
</tr>
<tr>
<td style="text-align:center">lack of control flow information</td>
<td style="text-align:center">contains control flow information</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">usually considered as the basis for static analysis</td>
</tr>
</tbody>
</table>
</div>
<p>IRå…·æœ‰è¯­è¨€æ— å…³æ€§ï¼Œå¯ä»¥å°†å¤šç§è¯­è¨€ç¿»è¯‘ä¸ºä¸€ç§ç»Ÿä¸€çš„ä¸­é—´æ ¼å¼</p>
<h2 id="IR-Three-Address-Code-3AC"><a href="#IR-Three-Address-Code-3AC" class="headerlink" title="IR: Three-Address Code (3AC)"></a>IR: Three-Address Code (3AC)</h2><p><strong>3-Address Code</strong></p>
<ul>
<li>ä¸€ä¸ªæŒ‡ä»¤å³ä¾§æœ€å¤šåªæœ‰ä¸€ä¸ªè¿ç®—ç¬¦ï¼Œä¾‹å¦‚$t2=a+b+3$ä¸æ˜¯ï¼Œ$t_1=a+b$å’Œ$t_2=t_1+3$æ˜¯</li>
</ul>
<blockquote>
<p>Why called 3-address?</p>
<p>Each 3AC contains most at 3 addresses</p>
<p>Address can be one of the following: </p>
<ul>
<li>åå­—: a, b </li>
<li>å¸¸é‡: 3 </li>
<li>ç¼–è¯‘å™¨ç”Ÿæˆçš„å˜é‡: t1, t2</li>
</ul>
</blockquote>
<p><strong>Some Common 3AC Forms</strong></p>
<ul>
<li>x = y bop  z</li>
<li>x = uop  y</li>
<li>x = y</li>
<li>goto L</li>
<li>if x goto L</li>
<li>if x rop y goto L</li>
</ul>
<blockquote>
<p>x, y, z: addresses </p>
<p>bop: binary arithmetic or logical operation </p>
<p>uop: unary operation (minus, negation, casting) </p>
<p>L: a label to represent a program location </p>
<p>rop: relational operator (&gt;, &lt;, ==, &gt;=, &lt;=, etc.) </p>
<p>goto L: unconditional jump if â€¦ goto L: conditional jump</p>
</blockquote>
<h2 id="3AC-in-Real-Static-Analyzer"><a href="#3AC-in-Real-Static-Analyzer" class="headerlink" title="3AC in Real Static Analyzer"></a>3AC in Real Static Analyzer</h2><p><strong>Sootâ€™s IR is Jimple: typed 3-address code</strong></p>
<p>do-while</p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220922142812926.png" alt="image-20220922142812926"></p>
<p>method</p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220922143107759.png" alt="image-20220922143107759"></p>
<blockquote>
<ul>
<li>invokespecial: call constructor, call superclass methods, call private methods</li>
<li>invokevirtual: instance methods call (virtual dispatch)</li>
<li>invokeinterface: cannot optimization, checking interface implementation</li>
<li><p>invokestatic: call static methods</p>
<p><strong>method signature</strong>: </p>
</li>
<li><p>class name: return type method name(parameter1 type, â€¦)</p>
</li>
</ul>
</blockquote>
<p>main</p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220922144507073.png" alt="image-20220922144507073"></p>
<p>Class</p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220922144719084.png" alt="image-20220922144719084"></p>
<p>é™æ€å±æ€§åœ¨clinitä¸­åˆå§‹åŒ–</p>
<h2 id="Static-Single-Assignment-SSA"><a href="#Static-Single-Assignment-SSA" class="headerlink" title="Static Single Assignment (SSA)"></a>Static Single Assignment (SSA)</h2><p>SSAä¸­æ‰€æœ‰èµ‹å€¼éƒ½é’ˆå¯¹å…·æœ‰ä¸åŒåç§°çš„å˜é‡åï¼Œæ¯ä¸ªå˜é‡éƒ½æœ‰ä¸€ä¸ªæ–°çš„å®šä¹‰ï¼Œæ¯ä¸ªå˜é‡åªæœ‰ä¸€ä¸ªå®šä¹‰ï¼Œæ–°åç§°ä¼ æ’­åˆ°åç»­ä½¿ç”¨</p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220922150659072.png" alt="image-20220922150659072"></p>
<p>å¤šé‡çš„åœ°æ–¹å‡ºç°mergeä¼šå¼•å…¥phi-function</p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220922150727462.png" alt="image-20220922150727462"></p>
<blockquote>
<ul>
<li><p>A special merge operator, $\phi$(called phi-function), is introduced to select the values at merge nodes </p>
</li>
<li><p>$\phi(x_0, x_1)$has the value x0 if the control flow passes through the true part of the conditional and the value x1 otherwise</p>
</li>
</ul>
</blockquote>
<p><strong>SSAå¥½å¤„ï¼š</strong></p>
<ul>
<li>æµä¿¡æ¯è¢«é—´æ¥çš„åˆå¹¶åˆ°å”¯ä¸€çš„å˜é‡åä¸­<ul>
<li>å¯èƒ½æœ‰åŠ©äºæä¾›ä¸€äº›æ›´ç®€å•çš„åˆ†æï¼Œä¾‹å¦‚ï¼Œæµé‡ä¸æ•æ„Ÿåˆ†æé€šè¿‡SSAè·å¾—æµé‡æ•æ„Ÿåˆ†æçš„éƒ¨åˆ†ç²¾åº¦</li>
</ul>
</li>
<li>å®šä¹‰å’Œä½¿ç”¨æ›´åŠ æ¸…æ™°<ul>
<li>è¦çœ‹ä½¿ç”¨çš„å˜é‡å¯ä»¥ç›´æ¥æ‰¾å®šä¹‰çš„åœ°æ–¹</li>
<li>ä¸€äº›ä¼˜åŒ–ç®—æ³•æ›´åŠ ä¾¿åˆ©</li>
</ul>
</li>
</ul>
<p><strong>SSAçš„åå¤„</strong>ï¼š</p>
<ul>
<li>ä¼šå¼•å…¥å¤ªå¤šå˜é‡å’Œphi-function</li>
<li>May introduce inefficiency problem when translating to machine code (due to copy operations)</li>
</ul>
<h2 id="Basic-Blocks-BB"><a href="#Basic-Blocks-BB" class="headerlink" title="Basic Blocks (BB)"></a>Basic Blocks (BB)</h2><p>BBæ˜¯æœ€å¤§çš„ä¸€ä¸²è¿ç»­three-address instructionsæ»¡è¶³ä»¥ä¸‹ç‰¹å¾ï¼š</p>
<ul>
<li>åªèƒ½ä»å¼€å§‹å¤„ï¼ˆblockçš„ç¬¬ä¸€æ¡æŒ‡ä»¤ï¼‰è¿›å…¥</li>
<li>å‡ºå£æ˜¯æœ€åä¸€æ¡æŒ‡ä»¤</li>
</ul>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220922152846945.png" alt="image-20220922152846945"></p>
<ul>
<li>ä¸€ä¸ªjumpçš„ç›®æ ‡åªèƒ½æˆä¸ºblockçš„å…¥å£ï¼Œå³ç¬¬ä¸€æ¡è¯­å¥</li>
<li>æŒ‡ä»¤ä¸­æœ‰jumpåªèƒ½æˆä¸ºblockçš„å‡ºå£ï¼Œå³æœ€åä¸€æ¡è¯­å¥</li>
</ul>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220922153758915.png" alt="image-20220922153758915"></p>
<p>ä¸€ä¸ªæ —å­ï¼š</p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220922154119923.png" alt="image-20220922154119923"></p>
<ul>
<li>å…ˆæ‰¾åˆ°ç¬¬ä¸€æ¡æŒ‡ä»¤ï¼ˆ1ï¼‰æ˜¯leader</li>
<li>å…¶æ¬¡jumpçš„targetæ˜¯leaderï¼Œï¼ˆ3ï¼‰ï¼ˆ7ï¼‰ï¼ˆ12ï¼‰</li>
<li>è·³è½¬æŒ‡ä»¤çš„ä¸‹ä¸€æ¡æ˜¯leaderï¼Œï¼ˆ5ï¼‰ï¼ˆ11ï¼‰ï¼ˆ12ï¼‰</li>
<li>ç„¶åè¡¥å……leaderé—´çš„æŒ‡ä»¤</li>
</ul>
<h2 id="Control-Flow-Graphs-CFG"><a href="#Control-Flow-Graphs-CFG" class="headerlink" title="Control Flow Graphs (CFG)"></a>Control Flow Graphs (CFG)</h2><ul>
<li><p>Usually refer to building Control Flow Graph (CFG) </p>
</li>
<li><p>CFG serves as the basic structure for static analysis </p>
</li>
<li>The node in CFG can be an individual 3-address instruction, or (usually) a Basic Block (BB)</li>
</ul>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220922152507684.png" alt="image-20220922152507684"></p>
<p>åœ¨Aå’ŒBä¹‹é—´æ·»åŠ è¾¹</p>
<ul>
<li>æœ‰æœ‰æ¡ä»¶æˆ–æ— æ¡ä»¶çš„è·³è½¬ä»Açš„ç»“æŸåˆ°Bçš„å¼€å§‹</li>
<li>åœ¨æ­£å¸¸çš„æŒ‡ä»¤æ‰§è¡Œé¡ºåºä¸­Bç´§æ¥ç€Aå¹¶ä¸”Açš„æœ€åä¸€æ¡æŒ‡ä»¤ä¸æ˜¯æ— æ¡ä»¶çš„è·³è½¬</li>
</ul>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220922154842732.png" alt="image-20220922154842732"></p>
<p>ï¼ˆæœ‰æ¡ä»¶çš„jumpæœ‰ä¸¤ä¸ªå‡ºå£)</p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220922155641110.png" alt="image-20220922155641110"></p>
<h2 id="Summary-1"><a href="#Summary-1" class="headerlink" title="Summary"></a>Summary</h2><blockquote>
<ul>
<li><p>The relation between compilers and static analyzers </p>
</li>
<li><p>Understand 3AC and its common forms </p>
</li>
<li>How to build basic blocks on top of IR </li>
<li>How to construct control flow graphs on top of BBs?</li>
</ul>
</blockquote>
<h1 id="03-Data-Flow-Analysis-Applications-I"><a href="#03-Data-Flow-Analysis-Applications-I" class="headerlink" title="03- Data Flow Analysis - Applications I"></a>03- Data Flow Analysis - Applications I</h1><h2 id="Overview-of-Data-Flow-Analysis"><a href="#Overview-of-Data-Flow-Analysis" class="headerlink" title="Overview of Data Flow Analysis"></a>Overview of Data Flow Analysis</h2><h2 id="Preliminaries-of-Data-Flow-Analysis"><a href="#Preliminaries-of-Data-Flow-Analysis" class="headerlink" title="Preliminaries of Data Flow Analysis"></a>Preliminaries of Data Flow Analysis</h2><p>è¾“å…¥è¾“å‡ºçŠ¶æ€</p>
<ul>
<li>Each execution of an IR statement transforms an input state to a new output state</li>
<li>The input (output) state is associated with the program point before (after) the statement</li>
</ul>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220929184636221.png" alt="image-20220929184636221"></p>
<p>In each data-flow analysis application, we associate with every program point a data-flow value that represents an abstraction of the set of all possible program states that can be observed for that point.</p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220929184920175.png" alt="image-20220929184920175"></p>
<p>Data-flow analysis is to find a solution to a set of safe-approximationdirected constraints on the IN[s]â€™s and OUT[s]â€™s, for all statements s. </p>
<ul>
<li>constraints based on semantics of statements (transfer functions) </li>
<li>constraints based on the flows of control</li>
</ul>
<p>æ­£å‘åˆ†æ<br><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220929185210552.png" alt="image-20220929185210552"></p>
<p>åå‘åˆ†æ</p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220929185220362.png" alt="image-20220929185220362"></p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220929185612303.png" alt="image-20220929185612303"></p>
<h2 id="Reaching-Definitions-Analysis"><a href="#Reaching-Definitions-Analysis" class="headerlink" title="Reaching Definitions Analysis"></a>Reaching Definitions Analysis</h2><h3 id="Reaching-Definitions"><a href="#Reaching-Definitions" class="headerlink" title="Reaching Definitions"></a>Reaching Definitions</h3><p><strong>A definition d at program point p reaches a point q if there is a path from p to q such that d is not â€œkilledâ€ along that path</strong></p>
<ul>
<li><p>A definition of a variable v is a statement that assigns a value to v</p>
</li>
<li><p>Translated as: definition of variable v at program point p reaches point q if there is a path from p to q such that no new definition of v appears on that path</p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220929190246939.png" alt="image-20220929190246939"></p>
</li>
<li><p>Reaching definitions can be used to detect possible undefined variables. e.g., introduce a dummy definition for each variable v at the entry of CFG, and if the dummy definition of v reaches a point p where v is used, then v may be used before definition (as undefined reaches v)</p>
</li>
</ul>
<h3 id="Understanding-Reaching-Definitions"><a href="#Understanding-Reaching-Definitions" class="headerlink" title="Understanding Reaching Definitions"></a>Understanding Reaching Definitions</h3><p>Data Flow Values/Facts</p>
<ul>
<li><p>The definitions of all the variables in a program</p>
</li>
<li><p>Can be represented by bit vectors</p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220929191201301.png" alt="image-20220929191201301"></p>
</li>
</ul>
<ul>
<li><p>Transfer Function</p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220929191407655.png" alt="image-20220929191407655"></p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220929191454689.png" alt="image-20220929191454689"></p>
</li>
</ul>
<ul>
<li><p>Control Flow</p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220929191650375.png" alt="image-20220929191650375"></p>
</li>
</ul>
<h3 id="Reaching-Definitions-Analysisç®—æ³•"><a href="#Reaching-Definitions-Analysisç®—æ³•" class="headerlink" title="Reaching Definitions Analysisç®—æ³•"></a>Reaching Definitions Analysisç®—æ³•</h3><blockquote>
<p>A definition d at program point p reaches a point q if there is a path from p to q such that d is not â€œkilledâ€ along that path</p>
</blockquote>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220929191818429.png" alt="image-20220929191818429"></p>
<p>ä¸ºä»€ä¹ˆç®—æ³•å¯ä»¥åœæ­¢</p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220929200742498.png" alt="image-20220929200742498"></p>
<h2 id="Live-Variables-Analysis"><a href="#Live-Variables-Analysis" class="headerlink" title="Live Variables Analysis"></a>Live Variables Analysis</h2><p>æ´»è·ƒå˜é‡åˆ†æå‘Šè¯‰æˆ‘ä»¬å˜é‡vçš„å€¼åœ¨ç¨‹åºçš„pç‚¹ä¹‹åæ˜¯å¦ä¼šè¢«ä½¿ç”¨åˆ°</p>
<blockquote>
<p>Live variables analysis tells whether the value of variable v at program point p could be used along some path in CFG starting at p. If so, v is live at p; otherwise, v is dead at p.</p>
</blockquote>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221102205256033.png" alt="image-20221102205256033"></p>
<h2 id="Available-Expressions-Analysis"><a href="#Available-Expressions-Analysis" class="headerlink" title="Available Expressions Analysis"></a>Available Expressions Analysis</h2><blockquote>
<p>An expression x op y is available at program point p if (1) all paths from the entry to p must pass through the evaluation of x op y, and (2) after the last evaluation of x op y, there is no redefinition of x or y</p>
</blockquote>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221102205446048.png" alt="image-20221102205446048"></p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221102205812413.png" alt="image-20221102205812413"></p>
<h1 id="06-Data-Flow-Analysis-Foundations-2"><a href="#06-Data-Flow-Analysis-Foundations-2" class="headerlink" title="06 Data Flow Analysis - Foundations 2"></a>06 Data Flow Analysis - Foundations 2</h1><h2 id="Constant-Propagation"><a href="#Constant-Propagation" class="headerlink" title="Constant Propagation"></a>Constant Propagation</h2><p>ç®€å•çš„æ¥è¯´å¯ä»¥çœ‹ä½œå°†å¸¸é‡ä¼ æ’­åˆ°ä½¿ç”¨äº†è¿™ä¸ªå¸¸é‡çš„åœ°æ–¹å»ï¼Œå¯ä»¥ç”¨å¸¸é‡æ›¿æ¢åŸæ¥çš„å˜é‡</p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221101162008921.png" alt="image-20221101162008921"></p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221101162254617.png" alt="image-20221101162254617"></p>
<h1 id="07-Interprocedural-Analysis"><a href="#07-Interprocedural-Analysis" class="headerlink" title="07 Interprocedural Analysis"></a>07 Interprocedural Analysis</h1><p>Javaä¸­çš„æ–¹æ³•è°ƒç”¨</p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221114231620002.png" alt="image-20221114231620002"></p>
<p>A signatureï¼šä½œä¸ºä¸€ä¸ªæ–¹æ³•çš„æ ‡ç­¾</p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221114232023656.png" alt="image-20221114232023656"></p>
<p>å®šä¹‰å‡½æ•°<code>Dispatch(c, m)</code>æ¥è®¡ç®—ç¨‹åºè¿è¡Œæ—¶çš„æ–¹æ³•çš„æŒ‡æ´¾</p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221114232255289.png" alt="image-20221114232255289"></p>
<h2 id="Class-Hierarchy-Analysis-CHA"><a href="#Class-Hierarchy-Analysis-CHA" class="headerlink" title="Class Hierarchy Analysis* (CHA)"></a>Class Hierarchy Analysis* (CHA)</h2><p><code>A a = ...</code></p>
<p><code>a.foo();</code></p>
<p>è¿™æ ·çš„<code>a.foo()</code>è¢«ç§°ä¸ºä¸€ä¸ªcall site</p>
<p>Resolve(cs)æ¥æ”¶ä¸€ä¸ªcall site cs ä½œä¸ºå‚æ•°ï¼Œæ±‚è§£ç›®æ ‡æ–¹æ³•</p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221114234429587.png" alt="image-20221114234429587"></p>
<p>ä¼˜ç‚¹ï¼šå¿«</p>
<p>ç¼ºç‚¹ï¼šä¸å‡†ç¡®</p>
<p>é€šå¸¸ç”¨äºIDEä¸­</p>
<h2 id="Call-Graph-Construction"><a href="#Call-Graph-Construction" class="headerlink" title="Call Graph Construction"></a>Call Graph Construction</h2><p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221115004512913.png" alt="image-20221115004512913"></p>
<h2 id="Interprocedural-Data-Flow-Analysis"><a href="#Interprocedural-Data-Flow-Analysis" class="headerlink" title="Interprocedural Data-Flow Analysis"></a>Interprocedural Data-Flow Analysis</h2><p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221115091046735.png" alt="image-20221115091046735"></p>
<ul>
<li>Node transfer<ul>
<li><strong>Call nodes</strong>: identity </li>
<li><strong>Other nodes</strong>: same as intraprocedural constant propagation</li>
</ul>
</li>
<li>Edge transfer <ul>
<li><strong>Normal edges</strong>: identity </li>
<li><strong>Call-to-return edges</strong>: kill the value of LHS variable of the call site, propagate values of other local variables </li>
<li><strong>Call edges</strong>: pass argument values</li>
<li><strong>Return edges</strong>: pass return values</li>
</ul>
</li>
</ul>
<h2 id="æ€»ç»“-1"><a href="#æ€»ç»“-1" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><blockquote>
<ul>
<li>How to build call graph via class hierarchy analysis</li>
<li>Concept of interprocedural control-flow graph </li>
<li>Concept of interprocedural data-flow analysis </li>
<li>Interprocedural constant propagation</li>
</ul>
</blockquote>
<h1 id="08-Pointer-Analysis"><a href="#08-Pointer-Analysis" class="headerlink" title="08 Pointer Analysis"></a>08 Pointer Analysis</h1><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>ä¸€ä¸ªå˜é‡å¯ä»¥æŒ‡å‘ç¨‹åºä¸­çš„å“ªäº›å¯¹è±¡</p>
<p>may-analysis</p>
<ul>
<li>Computes an over-approximation of the set of objects that a pointer can point to, i.e., we ask â€œa pointer may point to which objects?â€</li>
</ul>
<blockquote>
<ul>
<li><p>æŒ‡é’ˆåˆ†æï¼ˆpointer analysisï¼‰ï¼šæŒ‡é’ˆæŒ‡å‘å“ªä¸ªå¯¹è±¡</p>
</li>
<li><p>åˆ«ååˆ†æï¼ˆalias analysisï¼‰ï¼šç¨‹åºä¸­çš„æŒ‡é’ˆæ˜¯å¦ä¼šæŒ‡å‘ç›¸åŒå¯¹è±¡</p>
</li>
</ul>
<p>åˆ«ååˆ†æçš„ç»“æœå¯ä»¥ä»æŒ‡é’ˆåˆ†ææ¨å¯¼å‡ºæ¥</p>
</blockquote>
<h2 id="Key"><a href="#Key" class="headerlink" title="Key"></a>Key</h2><p>Multiple factors affect the <strong>precision</strong> and <strong>efficiency</strong> of the system</p>
<h3 id="Heap-Abstraction"><a href="#Heap-Abstraction" class="headerlink" title="Heap Abstraction"></a>Heap Abstraction</h3><p>å¦‚ä½•å¯¹å †å†…å­˜è¿›è¡Œå»ºæ¨¡</p>
<ul>
<li>éœ€è¦ä¸€ä¸ªæŠ€æœ¯ä¿è¯æŒ‡é’ˆåˆ†æå¯ä»¥è¢«ç»ˆæ­¢</li>
</ul>
<p><strong>Allocation-Site Abstraction</strong></p>
<p>ç”¨ä¸€ä¸ªåˆ›å»ºç‚¹çš„æŠ½è±¡å¯¹è±¡æ¥è¡¨ç¤ºå…·ä½“å¯¹è±¡</p>
<p>ï¼ˆä»£ç ä¸­æœ‰å‡ ä¸ªnewå°±æœ‰å‡ ä¸ªæŠ½è±¡å¯¹è±¡ï¼‰</p>
<h3 id="Context-Sensitivity"><a href="#Context-Sensitivity" class="headerlink" title="Context Sensitivity"></a>Context Sensitivity</h3><p>å¦‚ä½•å¯¹è°ƒç”¨ä¸Šä¸‹æ–‡è¿›è¡Œå»ºæ¨¡</p>
<ul>
<li><p>ä¸Šä¸‹æ–‡æ•æ„Ÿï¼šåŒºåˆ†ä¸åŒä¸Šä¸‹æ–‡ï¼Œåˆ†å¼€åˆ†æä¸åŒä¸Šä¸‹æ–‡æƒ…å†µ</p>
</li>
<li><p>ä¸Šä¸‹æ–‡ä¸æ•æ„Ÿï¼šmergeæ‰€æœ‰ä¸Šä¸‹æ–‡ï¼Œåˆ†æä¸€æ¬¡</p>
</li>
</ul>
<h3 id="Flow-Sensitivity"><a href="#Flow-Sensitivity" class="headerlink" title="Flow Sensitivity"></a>Flow Sensitivity</h3><p>å¦‚ä½•å¯¹ç¨‹åºçš„æ§åˆ¶æµè¿›è¡Œå»ºæ¨¡</p>
<ul>
<li>æ§åˆ¶æµæ•æ„Ÿï¼šå°Šé‡æ‰§è¡Œå¾ªåº</li>
<li>æ§åˆ¶æµä¸æ•æ„Ÿï¼šå¿½ç•¥æ§åˆ¶æµé¡ºåºï¼Œçœ‹ä½œä¸€å †æ— åºè¯­å¥</li>
</ul>
<p>å¯¹äºJavaæ¥è¯´ï¼Œæ²¡æœ‰æ˜æ˜¾çš„ç ”ç©¶è¡¨æ˜ä¸æ•æ„ŸåŠ£ä¸æ•æ„Ÿï¼Œæ‰€ä»¥Javaä¸­ä¸»è¦é‡‡ç”¨ä¸æ•æ„Ÿ</p>
<h3 id="Analysis-Scope"><a href="#Analysis-Scope" class="headerlink" title="Analysis Scope"></a>Analysis Scope</h3><p>åˆ†æç¨‹åºçš„å“ªäº›éƒ¨åˆ†</p>
<ul>
<li>å…¨éƒ¨æŒ‡é’ˆ</li>
<li>éœ€æ±‚é©±åŠ¨ï¼šæ»¡è¶³ç‰¹å®šçš„åº”ç”¨</li>
</ul>
<h2 id="Concerned-Statements"><a href="#Concerned-Statements" class="headerlink" title="Concerned Statements"></a>Concerned Statements</h2><p>æˆ‘ä»¬åªå…³æ³¨ pointer-affecting statements</p>
<p>Javaä¸­çš„æŒ‡é’ˆ</p>
<ul>
<li>Local variable: <code>x</code> </li>
<li>Static field: <code>C.f</code> <ul>
<li>ç±»ä¼¼äºLocal variable</li>
</ul>
</li>
<li>Instance field: <code>x.f</code> </li>
<li>Array element: <code>array[i]</code><ul>
<li>æ•°ç»„çš„å»ºæ¨¡å®Œåç±»ä¼¼äºInstance field</li>
</ul>
</li>
</ul>
<p><strong>Pointer-Affecting Statements</strong></p>
<ul>
<li>New <code>x = new T()</code> </li>
<li>Assign <code>x = y</code> </li>
<li>Store <code>x.f = y</code> </li>
<li>Load <code>y = x.f</code> </li>
<li>Call <code>r = x.k(a, â€¦)</code><ul>
<li>static call</li>
<li>special call</li>
<li>virtual call</li>
</ul>
</li>
</ul>
<h2 id="Summary-2"><a href="#Summary-2" class="headerlink" title="Summary"></a>Summary</h2><blockquote>
<ul>
<li>What is pointer analysis? </li>
<li>Understand the key factors of pointer analysis</li>
<li>Understand what we analyze in pointer analysis</li>
</ul>
</blockquote>
<h1 id="09-Pointer-Analysis-Foundations-I"><a href="#09-Pointer-Analysis-Foundations-I" class="headerlink" title="09 Pointer Analysis Foundations (I)"></a>09 Pointer Analysis Foundations (I)</h1><h2 id="Rules"><a href="#Rules" class="headerlink" title="Rules"></a>Rules</h2><ul>
<li>Variables: <strong>x, y âˆˆ V</strong> </li>
<li>Fields: <strong>f, g âˆˆ F</strong> </li>
<li>Objects: $ o_i, o_j$  <strong>âˆˆ O</strong> </li>
<li>Instance fields: $o<em>{i}.f, o</em>{j}.g$ <strong>âˆˆ O Ã— F</strong> </li>
<li>Pointers: <strong>Pointer = V â‹ƒ (O Ã— F)</strong> </li>
<li>Points-to relations: <strong>pt = Pointer â†’ ğ’«(O)</strong></li>
</ul>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221110211257638.png" alt="image-20221110211257638"></p>
<p><strong>é™æ€å­—æ®µ</strong></p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221120165357309.png" alt="image-20221120165357309"></p>
<p><strong>æ•°ç»„ç´¢å¼•</strong></p>
<p>ç”¨$o_i[*]$è¡¨ç¤ºä¸€ä¸ªæŒ‡å‘æ•°ç»„ä¸­æ‰€æœ‰å¯¹è±¡çš„æŒ‡é’ˆ</p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221120165434316.png" alt="image-20221120165434316"></p>
<p><strong>é™æ€æ–¹æ³•</strong></p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221120165443413.png" alt="image-20221120165443413"></p>
<p>Pointer analysis as solving a system of inclusion constrains for pointers</p>
<p>åŸºæœ¬æ€æƒ³ï¼š</p>
<ul>
<li>ä½¿ç”¨å›¾è¿æ¥ç›¸å…³è”çš„æŒ‡é’ˆ</li>
<li>å½“pt(x)æ”¹å˜ï¼Œä¼ æ’­æ”¹å˜çš„éƒ¨åˆ†ç»™xçš„åç»§</li>
</ul>
<h2 id="PFG"><a href="#PFG" class="headerlink" title="PFG"></a>PFG</h2><p>æœ‰å‘å›¾è¡¨ç¤ºå¯¹è±¡åœ¨æŒ‡é’ˆé—´çš„æµåŠ¨å…³ç³»</p>
<ul>
<li><p>Nodes: Pointer = V â‹ƒ (O Ã— F)</p>
<p>A node n represents a variable or a field of an abstract object</p>
</li>
<li><p>Edges: Pointer Ã— Pointer</p>
<p>An edge ğ‘¥ â†’ ğ‘¦ means that the objects pointed by pointer ğ‘¥ may flow to (and also be pointed to by) pointer y</p>
</li>
</ul>
<p><strong>å®ç°æŒ‡é’ˆåˆ†æçš„ä¸¤æ­¥</strong></p>
<ul>
<li>æ„å»ºPFG</li>
<li>åœ¨å®ç°çš„PFGä¸Šä¼ æ’­æŒ‡é’ˆä¿¡æ¯</li>
</ul>
<blockquote>
<p>ä¸¤éƒ¨åˆ†äº’ç›¸ä¾èµ–çš„</p>
<p>åœ¨æŒ‡é’ˆåˆ†æçš„è¿‡ç¨‹ä¸­PFGåœ¨åŠ¨æ€æ›´æ–°</p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221117090603643.png" alt="image-20221117090603643"></p>
</blockquote>
<h2 id="Alogrithms"><a href="#Alogrithms" class="headerlink" title="Alogrithms"></a>Alogrithms</h2><p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221117090840828.png" alt="image-20221117090840828"></p>
<p>Worklistï¼ˆWLï¼‰</p>
<ul>
<li>Worklist contains the points-to information to be processed<ul>
<li>WL âŠ† <Pointer, ğ’«(O)></li>
</ul>
</li>
<li>æ¯ä¸ªworklisté‡Œé¢å­˜çš„æ˜¯ä¸€å¯¹<n,pts>ï¼Œnæ˜¯æŒ‡é’ˆï¼Œptsæ˜¯ä¸€ä¸ªæŒ‡å‘çš„é›†åˆï¼Œè¡¨ç¤ºptsåº”è¯¥è¢«ä¼ æ’­åˆ°pt(n)</li>
</ul>
<h2 id="æ€»ç»“-2"><a href="#æ€»ç»“-2" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><blockquote>
<ul>
<li><p>Understand pointer analysis rules</p>
</li>
<li><p>Understand pointer flow graph</p>
</li>
<li>Understand pointer analysis algorithms</li>
</ul>
</blockquote>
<h1 id="10-Pointer-Analysis-Foundations-II"><a href="#10-Pointer-Analysis-Foundations-II" class="headerlink" title="10 Pointer Analysis Foundations (II)"></a>10 Pointer Analysis Foundations (II)</h1><h2 id="Method-Call"><a href="#Method-Call" class="headerlink" title="Method Call"></a>Method Call</h2><ul>
<li>Inter-procedural pointer analysis requires call graph</li>
</ul>
<p>ä¸åŒäºCHAï¼Œæˆ‘ä»¬é€šè¿‡æŒ‡é’ˆåˆ†ææ¥æ„å»ºcall graphï¼Œæ¯”CHAæ›´åŠ å‡†ç¡®ï¼Œæ›´åŠ å‡†ç¡®çš„call graphå¯¹æŒ‡é’ˆåˆ†æå…·æœ‰æ­£åé¦ˆ</p>
<p>åœ¨æŒ‡é’ˆåˆ†æä¸­æ„å»ºcall graph</p>
<ul>
<li>on-the-fly call graph construction</li>
</ul>
<h2 id="Rule-Call"><a href="#Rule-Call" class="headerlink" title="Rule:Call"></a>Rule:Call</h2><p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221117105859564.png" alt="image-20221117105859564"></p>
<ul>
<li>Dispatch($o_j$,k): resolves the virtual dispatch of k on $o_j$ to a target method (based on type of $o_j$)</li>
<li>$m_{this}$:  this variable of m</li>
<li>$m_{pj}$: the j-th parameter of m</li>
<li>$m_{ret}$: the variable that holds the return value of m</li>
</ul>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221117112529329.png" alt="image-20221117112529329"></p>
<p>è§£æå‡ºxæŒ‡å‘çš„ç±»ä¼ ç»™this</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆä»xåˆ°thisä¸è¿ä¸€æ¡è¾¹</p>
<p>ä¼šå¤šä¼ </p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221117130958700.png" alt="image-20221117130958700"></p>
<ul>
<li>ä¹Ÿä¸èƒ½é€šè¿‡è¿‡æ»¤çš„æ–¹å¼æ¥å°†Aä¸­çš„thisæŒ‡å‘çš„new Bå’Œnew Cå»é™¤ï¼Œå› ä¸ºæŒ‡å‘æ˜¯åˆç†çš„ï¼Œå½“xå‘ç”Ÿæ”¹å˜æ—¶ä¼šå°†æ”¹å˜ä¼ åˆ°thisä¸Šï¼Œæ‰€ä»¥Aä¸­çš„thisæ— æ³•é€šè¿‡è¿‡æ»¤çš„æ–¹å¼å»é™¤ä¸ç²¾ç¡®çš„thisï¼Œä¼šæŒ‡å‘å¤šä¸ªã€‚</li>
</ul>
</blockquote>
<h2 id="Interprocedural-Pointer-Analysis"><a href="#Interprocedural-Pointer-Analysis" class="headerlink" title="Interprocedural Pointer Analysis"></a>Interprocedural Pointer Analysis</h2><p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221117165711062.png" alt="image-20221117165711062"></p>
<ul>
<li><p><code>AddReachable(m)</code></p>
<blockquote>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221117170432234.png" alt="image-20221117170432234"></p>
</blockquote>
</li>
<li><p>ProcessCall(x,$o_i$)</p>
<blockquote>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221117193542516.png" alt="image-20221117193542516"></p>
</blockquote>
</li>
</ul>
<h2 id="æ€»ç»“-3"><a href="#æ€»ç»“-3" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><blockquote>
<ul>
<li>Understand pointer analysis rule for method call</li>
<li>Understand inter-procedural pointer analysis algorithm </li>
<li>Understand on-the-fly call graph construction</li>
</ul>
</blockquote>
<h1 id="11-Pointer-Analysis-Context-Sensitivity-I"><a href="#11-Pointer-Analysis-Context-Sensitivity-I" class="headerlink" title="11 Pointer Analysis - Context Sensitivity I"></a>11 Pointer Analysis - Context Sensitivity I</h1><p>â€”â€”â€”â€”æå‡æŒ‡é’ˆåˆ†æç²¾åº¦æœ€æœ‰æ•ˆçš„æŠ€æœ¯</p>
<p><strong>ä¸Šä¸‹ä¸æ•æ„Ÿåˆ†æä¸ºä»€ä¹ˆä¸å‡†</strong></p>
<ul>
<li>åœ¨åŠ¨æ€æ‰§è¡Œä¸­ä¸€ä¸ªæ–¹æ³•å¯èƒ½æ‰§è¡Œå¤šæ¬¡ï¼Œåœ¨ä¸åŒçš„ä¸Šä¸‹æ–‡ä¸­æ–¹æ³•çš„å˜é‡å¯èƒ½æŒ‡å‘ä¸åŒçš„å¯¹è±¡ï¼Œä½†æ˜¯åœ¨ä¸Šä¸‹æ–‡ä¸æ•æ„Ÿåˆ†æä¸­è¿™äº›å¯¹è±¡éƒ½æ··åœ¨ä¸€èµ·ä¸åŠ ä»¥åŒºåˆ†ï¼Œåœ¨ä¼ æ’­ä¸­å¯èƒ½äº§ç”Ÿå‡çš„æ•°æ®æµ</li>
</ul>
<p><strong>ä¸Šä¸‹æ–‡æ•æ„Ÿåˆ†æ</strong></p>
<ul>
<li>åŒºåˆ†ä¸åŒä¸Šä¸‹æ–‡ä»¥æé«˜ç²¾åº¦</li>
</ul>
<p><strong>Cloning-Based Context Sensitivity</strong></p>
<ul>
<li>æ‰“ä¸Šæ ‡è®°</li>
</ul>
<p><strong>Context-Sensitive Heap</strong></p>
<ul>
<li><p>å¯¹æŠ½è±¡çš„å¯¹è±¡ä¹Ÿéœ€è¦åŠ ä¸Šä¸Šä¸‹æ–‡</p>
<p>The most common choice is to inherit contexts from the method where the object is allocated</p>
</li>
<li><p>è·å¾—ç²’åº¦æ›´å°çš„å †æŠ½è±¡</p>
</li>
</ul>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221124193548980.png" alt="image-20221124193548980"></p>
<h2 id="Rules-1"><a href="#Rules-1" class="headerlink" title="Rules"></a>Rules</h2><p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221124200511141.png" alt="image-20221124200511141"></p>
<h2 id="Rule-Call-1"><a href="#Rule-Call-1" class="headerlink" title="Rule:Call"></a>Rule:Call</h2><p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221124201258921.png" alt="image-20221124201258921"></p>
<p>  å¦‚æœæœ‰è®¸å¤šä¸Šä¸‹æ–‡ï¼Œåªä¼šä¼ ç»™$c^t$è¿™ä¸ªä¸Šä¸‹æ–‡ä¸‹çš„$m_{this}$ï¼Œå®å‚ä¼ ç»™ç‰¹å®šä¸Šä¸‹æ–‡çš„å½¢å‚</p>
<h2 id="æ€»ç»“-4"><a href="#æ€»ç»“-4" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><blockquote>
<ul>
<li>Concept of context sensitivity (C.S.) </li>
<li>Concept of context-sensitive heap (C.S. heap) </li>
<li>Why C.S. and C.S. heap improve precision </li>
<li>Context-sensitive pointer analysis rules</li>
</ul>
</blockquote>
<h1 id="Pointer-Analysis-Context-Sensitivity-II"><a href="#Pointer-Analysis-Context-Sensitivity-II" class="headerlink" title="Pointer Analysis Context Sensitivity (II)"></a>Pointer Analysis Context Sensitivity (II)</h1><p>å¸¦æœ‰ä¸Šä¸‹æ–‡çš„PFGï¼Œæ¯ä¸ªnodeå¸¦æœ‰ä¸Šä¸‹æ–‡ä¿¡æ¯</p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221201095242975.png" alt="image-20221201095242975"></p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221201095308064.png" alt="image-20221201095308064"></p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221204120155031.png" alt="image-20221204120155031"></p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221204120218218.png" alt="image-20221204120218218"></p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221204120228642.png" alt="image-20221204120228642"></p>
<h2 id="Algorithm"><a href="#Algorithm" class="headerlink" title="Algorithm"></a>Algorithm</h2><p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221201095745676.png" alt="image-20221201095745676"></p>
<h3 id="AddReachable"><a href="#AddReachable" class="headerlink" title="AddReachable()"></a><code>AddReachable()</code></h3><p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221201100245697.png" alt="image-20221201100245697"></p>
<h3 id="AddEdge"><a href="#AddEdge" class="headerlink" title="AddEdge()"></a><code>AddEdge()</code></h3><p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221201101306791.png" alt="image-20221201101306791"></p>
<h3 id="Propagate"><a href="#Propagate" class="headerlink" title="Propagate()"></a><code>Propagate()</code></h3><p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221201101314995.png" alt="image-20221201101314995"></p>
<h3 id="ProcessCall"><a href="#ProcessCall" class="headerlink" title="ProcessCall()"></a><code>ProcessCall()</code></h3><p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221201101404480.png" alt="image-20221201101404480"></p>
<h2 id="å˜ä½“"><a href="#å˜ä½“" class="headerlink" title="å˜ä½“"></a>å˜ä½“</h2><p><strong>ä¸‰ç§ä¸Šä¸‹æ–‡æ•æ„Ÿçš„å…·ä½“æŠ€æœ¯</strong></p>
<ul>
<li>Call-site sensitivity </li>
<li>Object sensitivity</li>
<li>Type sensitivity</li>
</ul>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221201103229658.png" alt="image-20221201103229658"></p>
<h3 id="Call-Site-sensitivity"><a href="#Call-Site-sensitivity" class="headerlink" title="Call-Site sensitivity"></a>Call-Site sensitivity</h3><p>æ¯ä¸ªä¸Šä¸‹æ–‡ç”±ä¸€ä¸²è°ƒç”¨é“¾ç»„æˆï¼Œåœ¨æ¯ä¸ªè°ƒç”¨ç‚¹å¤„ï¼Œå°†è°ƒç”¨ç‚¹åŠ å…¥åˆ°è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡ä¸­ä½œä¸ºè¢«è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡</p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221201111420102.png" alt="image-20221201111420102"></p>
<p><strong>k-Limiting Context Abstraction</strong></p>
<ul>
<li>åœ¨é€’å½’è°ƒç”¨ä¸­ï¼Œå¯èƒ½ä¼šäº§ç”Ÿæ— ç©·çš„è°ƒç”¨é“¾</li>
<li>å®é™…ä¸­å¯èƒ½ä¼šäº§ç”Ÿéå¸¸å¤æ‚çš„å±±ä¸‹æ–‡</li>
</ul>
<p>ä¸ºäº†è§£å†³ä¸Šé¢ä¸¤ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥é™åˆ¶ä¸Šä¸‹æ–‡çš„é•¿åº¦å°ä¸ç­‰äºkï¼Œç§°ä¸ºk-Limiting Context Abstraction</p>
<p>å¯¹äºæ–¹æ³•çš„ä¸Šä¸‹æ–‡å’Œå †çš„ä¸Šä¸‹æ–‡kå€¼å¯èƒ½ä¸ä¸€å®š</p>
<p>å®é™…ä¸Šæ˜¯å–è°ƒç”¨è€…è°ƒç”¨é“¾çš„æœ€åk-1ä¸ªåŠ ä¸Šæœ¬æ¬¡çš„è°ƒç”¨ç‚¹æ„æˆé•¿åº¦ä¸ºkçš„è°ƒç”¨é“¾ä½œä¸ºè¢«è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡ä¿¡æ¯</p>
<h3 id="Object-sensitivity"><a href="#Object-sensitivity" class="headerlink" title="Object sensitivity"></a>Object sensitivity</h3><p>æ¯ä¸ªä¸Šä¸‹æ–‡ç”±ä¸€ä¸²æŠ½è±¡å¯¹è±¡ç»„æˆ</p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221201131422002.png" alt="image-20221201131422002"></p>
<p>At a method call, use the receiver object with its heap context as callee context</p>
<p>åœ¨æ¯ä¸ªè°ƒç”¨ç‚¹å¤„ï¼Œç”¨è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡åŠ ä¸Šè¿™ä¸€ç‚¹å¤„è°ƒç”¨è€…çš„æŠ½è±¡å¯¹è±¡å¯¹è±¡</p>
<h3 id="Type-sensitivity"><a href="#Type-sensitivity" class="headerlink" title="Type sensitivity"></a>Type sensitivity</h3><p>åŸºäºå¯¹è±¡æ•æ„ŸæŠ€æœ¯ï¼Œæ˜¯å¯¹è±¡æ•æ„ŸæŠ€æœ¯ç²—ç²’åº¦çš„æŠ½è±¡ï¼Œåœ¨ç›¸åŒçš„kä¸‹ï¼Œæ•ˆæœä¸å¥½äºå¯¹è±¡æ•æ„ŸæŠ€æœ¯</p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221201132743811.png" alt="image-20221201132743811"></p>
<p>Intype($o_i$)è¡¨ç¤º$o_3$æ‰€åœ¨çš„ç±»</p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221201133409692.png" alt="image-20221201133409692"></p>
<blockquote>
<p><strong>call-site vs. object</strong></p>
<p>æœ‰å¯èƒ½call-siteæ›´å‡†ç¡®ä¹Ÿæœ‰å¯èƒ½objectæ›´å‡†ç¡®</p>
<p>ç†è®ºä¸Šä¸¤è€…ä¹‹é—´çš„ç²¾åº¦æ˜¯æ²¡æœ‰åŠæ³•æ¯”è¾ƒçš„ï¼Œä½†å¯¹äºjavaè¿™æ ·çš„ooè¯­è¨€æ¥è¯´ï¼Œæ€»çš„æ¥è¯´objectæ•ˆæœæ›´å¥½</p>
<p><strong>Call-Site vs. Object vs. Type Sensitivity</strong></p>
<ul>
<li>In general<ul>
<li>Precision: object &gt; type &gt; call-site</li>
<li>Efficiency: type &gt; object &gt; call-site</li>
</ul>
</li>
</ul>
</blockquote>
<h2 id="æ€»ç»“-5"><a href="#æ€»ç»“-5" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><blockquote>
<ul>
<li>Algorithm for context-sensitive pointer analysis</li>
<li>Common context sensitivity variants</li>
<li>Differences and relationship among common context sensitivity variants</li>
</ul>
</blockquote>
<h1 id="Static-Analysis-for-Security"><a href="#Static-Analysis-for-Security" class="headerlink" title="Static Analysis for Security"></a>Static Analysis for Security</h1><p>ä¿¡æ¯æµé—®é¢˜çš„ä¸¤ä¸ªä¾‹å­</p>
<ul>
<li>æ³¨å…¥é”™è¯¯</li>
<li>ä¿¡æ¯ç¡®å®</li>
</ul>
<h2 id="Information-Flow-Security"><a href="#Information-Flow-Security" class="headerlink" title="Information Flow Security"></a>Information Flow Security</h2><p><strong>è®¿é—®æ§åˆ¶</strong></p>
<ul>
<li>æ£€æŸ¥æœ‰æ²¡æœ‰ç›¸åº”çš„æƒé™</li>
<li>ä½†ä¸çŸ¥é“ä¿¡æ¯è¢«ç»™å‡ºåæ˜¯å¦‚ä½•è¢«è®¿é—®çš„</li>
</ul>
<p><strong>ä¿¡æ¯æµåˆ†æ</strong></p>
<ul>
<li>è·Ÿè¸ªä¿¡æ¯æµå¦‚ä½•åœ¨ç¨‹åºä¸­å¦‚ä½•æµåŠ¨</li>
<li>è€ƒè™‘ä¿¡æ¯å¦‚ä½•ä¼ æ’­</li>
</ul>
<p>A practical system needs both access and flow control to satisfy all security requirements.</p>
<p><strong>ä¿¡æ¯æµ</strong>ï¼šå¦‚æœå˜é‡xä¸­çš„ä¿¡æ¯ä¼ é€’åˆ°äº†å˜é‡yä¸­ï¼Œå°±å­˜åœ¨ä¸€ä¸ªä¿¡æ¯æµx$\rightarrow$y</p>
<p><strong>Connects information flow to security</strong></p>
<ul>
<li>å°†å˜é‡åˆ†ä¸ºä¸åŒçš„å®‰å…¨ç­‰çº§</li>
<li>æŒ‡å®šä¸åŒç­‰çº§é—´çš„æµåŠ¨ç­–ç•¥</li>
</ul>
<p><strong>Noninterference policy*</strong></p>
<ul>
<li>é«˜å¯†çº§çš„å˜é‡ä¸èƒ½å¯¹ä½å¯†çº§çš„ä¿¡æ¯æœ‰å½±å“</li>
<li>ä¸åº”è¯¥é€šè¿‡è§‚å¯Ÿä½å¯†çº§çš„å˜é‡æ¨æ–­å‡ºé«˜å¯†çº§çš„ä¿¡æ¯</li>
</ul>
<h2 id="Confidentiality-and-Integrity"><a href="#Confidentiality-and-Integrity" class="headerlink" title="Confidentiality and Integrity"></a>Confidentiality and Integrity</h2><p><strong>Confidentiality</strong></p>
<ul>
<li>Prevent secret information from being leaked</li>
</ul>
<p><strong>Integrity</strong></p>
<ul>
<li>Prevent untrusted information from corrupting (trusted) critical information<br>é˜²æ­¢è¢«æ±¡æŸ“</li>
<li>To ensure the correctness, completeness, and consistency of data</li>
</ul>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221208204929545.png" alt="image-20221208204929545"></p>
<p>ä¿å¯†æ€§ä»Lå†™åˆ°H</p>
<p>å®Œæ•´æ€§ä»Hå†™åˆ°L</p>
<h2 id="Explicit-Flows-and-Covert-Channels"><a href="#Explicit-Flows-and-Covert-Channels" class="headerlink" title="Explicit Flows and Covert Channels"></a>Explicit Flows and Covert Channels</h2><p><strong>æ˜¾ç¤ºæµ</strong></p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221208210603790.png" alt="image-20221208210603790"></p>
<p><strong>éšå¼æµ</strong>ï¼šå¯èƒ½å‘ç”Ÿåœ¨æ§åˆ¶æµä¿¡æ¯è¢«ç§˜å¯†ä¿¡æ¯å½±å“ï¼Œå¯ä»¥åæ¨å‡ºä¸€äº›ç§˜å¯†ä¿¡æ¯</p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221208210620988.png" alt="image-20221208210620988"></p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221208211033483.png" alt="image-20221208211033483"></p>
<p><strong>éšè—ä¿¡é“</strong>ï¼šä¿¡é“åˆ©ç”¨ä¸€ä¸ªæœºåˆ¶ï¼Œæœºåˆ¶çš„æœ¬æ„ä¸æ˜¯ä¼ é€’ä¿¡æ¯ï¼Œåˆ™è¢«ç§°ä¸ºéšè—ä¿¡é“</p>
<p>æ˜¾ç¤ºæµä¸€èˆ¬æ¥è¯´æ¯”éšå¼æµæ‰¿è½½ç€æ›´å¤šçš„ä¿¡æ¯</p>
<h2 id="Taint-Analysis"><a href="#Taint-Analysis" class="headerlink" title="Taint Analysis"></a>Taint Analysis</h2><p>Sources of tainted data is called sources. In practice, tainted data usually come from the return values of some methods (regarded as sources)</p>
<p>Taint analysis tracks how tainted data flow through the program and observes if they can flow to locations of interest (called sinks). In practice, sinks are usually some sensitive methods</p>
<ul>
<li>Treats tainted data as (artificial) objects</li>
<li>Treats sources as allocation sites (of tainted data)</li>
<li>Leverages pointer analysis to propagate tainted data</li>
</ul>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221208214320665.png" alt="image-20221208214320665"></p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221208214345175.png" alt="image-20221208214345175"></p>
<h2 id="æ€»ç»“-6"><a href="#æ€»ç»“-6" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><blockquote>
<ul>
<li>Concept of information flow security</li>
<li>Confidentiality and integrity </li>
<li>Explicit flows and covert channels </li>
<li>Use taint analysis to detect unwanted information flow</li>
</ul>
</blockquote>
<h1 id="Lab-lemon"><a href="#Lab-lemon" class="headerlink" title="Lab:lemon:"></a>Lab:lemon:</h1><h2 id="æ­»ä»£ç æ£€æµ‹"><a href="#æ­»ä»£ç æ£€æµ‹" class="headerlink" title="æ­»ä»£ç æ£€æµ‹"></a>æ­»ä»£ç æ£€æµ‹</h2><p>ä»ç¨‹åºä¸­å»é™¤æ­»ä»£ç æ˜¯ä¸€ç§å¸¸è§çš„ç¼–è¯‘ä¼˜åŒ–ç­–ç•¥</p>
<blockquote>
<p>æ­»ä»£ç æŒ‡çš„æ˜¯ç¨‹åºä¸­ä¸å¯è¾¾çš„ï¼ˆunreachableï¼‰ä»£ç ï¼ˆå³ä¸ä¼šè¢«æ‰§è¡Œçš„ä»£ç ï¼‰ï¼Œæˆ–è€…æ˜¯æ‰§è¡Œç»“æœæ°¸è¿œä¸ä¼šè¢«å…¶ä»–è®¡ç®—è¿‡ç¨‹ç”¨åˆ°çš„ä»£ç ã€‚å»é™¤æ­»ä»£ç å¯ä»¥åœ¨ä¸å½±å“ç¨‹åºè¾“å‡ºçš„å‰æä¸‹ç®€åŒ–ç¨‹åºã€æé«˜æ•ˆç‡ã€‚åœ¨æœ¬æ¬¡ä½œä¸šä¸­ï¼Œæˆ‘ä»¬åªå…³æ³¨ä¸¤ç§æ­»ä»£ç ï¼š<strong>ä¸å¯è¾¾ä»£ç </strong>ï¼ˆunreachable codeï¼‰å’Œ<strong>æ— ç”¨èµ‹å€¼</strong>ï¼ˆdead assignmentï¼‰</p>
</blockquote>
<h3 id="ä¸å¯åˆ°è¾¾ä»£ç "><a href="#ä¸å¯åˆ°è¾¾ä»£ç " class="headerlink" title="ä¸å¯åˆ°è¾¾ä»£ç "></a>ä¸å¯åˆ°è¾¾ä»£ç </h3><p><strong>æ§åˆ¶æµä¸å¯åˆ°è¾¾ä»£ç </strong>ï¼šä¸å­˜åœ¨ä»ç¨‹åºå…¥å£åˆ°è¾¾æŸä¸€æ®µä»£ç çš„æ§åˆ¶è·¯å¾„ï¼Œä¾‹å¦‚åœ¨è¿”å›è¯­å¥<code>return</code>ä¹‹åçš„ä»£ç æ˜¯ä¸å¯åˆ°è¾¾çš„</p>
<ul>
<li>æ£€æµ‹æ–¹æ³•ï¼šä»æ–¹æ³•å…¥å£å¼€å§‹ï¼Œéå†CFGå¹¶æ ‡è®°å¯è¾¾è¯­å¥ï¼Œå½“éå†ç»“æŸæ—¶ï¼Œé‚£äº›æ²¡æœ‰è¢«æ ‡è®°çš„è¯­å¥å°±æ˜¯æ§åˆ¶æµä¸å¯åˆ°è¾¾çš„</li>
</ul>
<p><strong>åˆ†æ”¯ä¸å¯åˆ°è¾¾ä»£ç </strong>ï¼šå¯¹äºä¸€ä¸ª if è¯­å¥ï¼Œå¦‚æœå®ƒçš„æ¡ä»¶å€¼ï¼ˆé€šè¿‡å¸¸é‡ä¼ æ’­å¾—çŸ¥ï¼‰æ˜¯ä¸€ä¸ªå¸¸æ•°ï¼Œé‚£ä¹ˆæ— è®ºç¨‹åºæ€ä¹ˆæ‰§è¡Œï¼Œå®ƒä¸¤ä¸ªåˆ†æ”¯ä¸­çš„å…¶ä¸­ä¸€ä¸ªåˆ†æ”¯éƒ½ä¸ä¼šè¢«èµ°åˆ°ã€‚è¿™æ ·çš„åˆ†æ”¯è¢«ç§°ä¸º<strong>ä¸å¯è¾¾åˆ†æ”¯</strong>ï¼Œè¯¥åˆ†æ”¯ä¸‹çš„ä»£ç ä¹Ÿæ˜¯ä¸å¯åˆ°è¾¾çš„ï¼Œè¢«ç§°ä¸ºåˆ†æ”¯ä¸å¯åˆ°è¾¾ä»£ç </p>
<p>å¯¹äºä¸€ä¸ªswitchè¯­å¥ï¼Œå¦‚æœä»–çš„æ¡ä»¶å€¼æ˜¯ä¸€ä¸ªå¸¸æ•°ï¼Œé‚£ä¹ˆä¸ç¬¦åˆæ¡ä»¶å€¼çš„caseåˆ†æ”¯å°±<strong>å¯èƒ½</strong>æ˜¯ä¸å¯åˆ°è¾¾çš„</p>
<h3 id="æ— ç”¨èµ‹å€¼"><a href="#æ— ç”¨èµ‹å€¼" class="headerlink" title="æ— ç”¨èµ‹å€¼"></a>æ— ç”¨èµ‹å€¼</h3><p>ä¸€ä¸ªå±€éƒ¨å˜é‡åœ¨ä¸€æ¡è¯­å¥ä¸­è¢«èµ‹å€¼ï¼Œä½†å†ä¹Ÿæ²¡æœ‰è¢«è¯¥è¯­å¥åé¢çš„è¯­å¥è¯»å–ï¼Œè¿™æ ·çš„å˜é‡å’Œè¯­å¥åˆ†åˆ«è¢«ç§°ä¸ºæ— ç”¨å˜é‡ï¼ˆdead variableï¼Œä¸æ´»è·ƒå˜é‡ live variable ç›¸å¯¹ï¼‰å’Œæ— ç”¨èµ‹å€¼ã€‚æ— ç”¨èµ‹å€¼ä¸ä¼šå½±å“ç¨‹åºçš„è¾“å‡ºï¼Œå› è€Œå¯ä»¥è¢«å»é™¤ã€‚</p>
<ul>
<li>æ£€æµ‹æ–¹æ³•ï¼šé¢„å…ˆå¯¹è¢«æ£€æµ‹ä»£ç æ–½ç”¨æ´»è·ƒå˜é‡åˆ†æï¼Œå¯¹äºä¸€ä¸ªèµ‹å€¼è¯­å¥ï¼Œå¦‚æœå®ƒç­‰å·å·¦ä¾§çš„å˜é‡æ˜¯ä¸€ä¸ªæ— ç”¨å˜é‡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æŠŠå®ƒæ ‡è®°ä¸ºä¸€ä¸ªæ— ç”¨èµ‹å€¼</li>
</ul>
<h3 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h3><ul>
<li>é€šè¿‡pascal.taie.analysis.graph.cfg.Edgeä¸­çš„<code>getKind()</code>å¾—çŸ¥è¾¹çš„ç§ç±»<ul>
<li>å››ç±»ï¼šIF_TRUEã€IF_FALSEã€SWITCH_CASEã€SWITCH_DEFAULT</li>
</ul>
</li>
<li>å¦‚ä½•æ‰¾åˆ°åç»§èŠ‚ç‚¹ï¼š<code>CFG.getOutEdgesof()</code></li>
<li>å¯ä»¥ä½¿ç”¨ <code>ConstantPropagation.evaluate()</code> æ¥è®¡ç®— if å’Œ switch è¯­å¥çš„æ¡ä»¶å€¼</li>
</ul>
<h2 id="ç±»å±‚æ¬¡ç»“æ„åˆ†æä¸è¿‡ç¨‹é—´å¸¸é‡ä¼ æ’­"><a href="#ç±»å±‚æ¬¡ç»“æ„åˆ†æä¸è¿‡ç¨‹é—´å¸¸é‡ä¼ æ’­" class="headerlink" title="ç±»å±‚æ¬¡ç»“æ„åˆ†æä¸è¿‡ç¨‹é—´å¸¸é‡ä¼ æ’­"></a>ç±»å±‚æ¬¡ç»“æ„åˆ†æä¸è¿‡ç¨‹é—´å¸¸é‡ä¼ æ’­</h2><p>å®ç°åŸºäºCHAçš„è°ƒç”¨å›¾æ„é€ å™¨</p>
<p>å®ç°è¿‡ç¨‹é—´å¸¸é‡ä¼ æ’­åˆ†æ</p>
<p><strong>è¿‡ç¨‹é—´å¸¸é‡ä¼ æ’­</strong></p>
<p>åœ¨è¿‡ç¨‹é—´æ•°æ®æµåˆ†æä¸­ï¼Œä¸ºäº†è®¡ç®—ä¸€ä¸ªèŠ‚ç‚¹çš„ IN factï¼Œæˆ‘ä»¬éœ€è¦å…ˆå¯¹è¯¥èŠ‚ç‚¹çš„å‰é©±çš„ OUT fact åº”ç”¨ <em>edge transfer</em>ï¼Œç„¶åæŠŠå¾—åˆ°ç»“æœ meet è¿›è¯¥èŠ‚ç‚¹çš„ IN factã€‚</p>
<p>æˆ‘ä»¬å®šä¹‰äº† <code>transferEdge(edge, fact)</code> å‡½æ•°æ¥å®ç° edge transfer</p>
<p>å³å°†è®¡ç®—In factçš„è½¬æ¢å‡½æ•°è°ƒæ•´ä¸º</p>
<p>$IN[B]= \underset{P\,a\,predecessor \, of \, B}{ \cup} transferEdge(P \rightarrow B, OUT[P])$</p>
<p>tansfer edgeåˆ†ä¸ºä»¥ä¸‹å››ç±»æ¥å¤„ç†ï¼š</p>
<ul>
<li><p><strong>Normal edge</strong><br>æ’ç­‰å‡½æ•°<code>transferEdge(edge, fact) = fact</code></p>
</li>
<li><p><strong>Call-to-return dege</strong></p>
<p>å¯¹äºæ–¹æ³•è°ƒç”¨<code>x=m(...)</code>ï¼Œedge transferå‡½æ•°ä¼šå§ç­‰å·å·¦ä¾§å˜é‡å’Œå®ƒçš„å€¼ä»factä¸­killæ‰ï¼Œè€Œå¯¹äºç­‰å·å·¦ä¾§æ²¡æœ‰å˜é‡çš„è°ƒç”¨<code>x(...)</code>ï¼Œedge transferä¸Normal edgeä¸€æ ·æ˜¯ä¸€ä¸ªæ’ç­‰å‡½æ•°</p>
</li>
<li><p><strong>Call edge</strong></p>
<p>edge transferä¼šå°†å®å‚åœ¨è°ƒç”¨ç‚¹ä¸­çš„å€¼ä¼ é€’ç»™è¢«è°ƒç”¨å‡½æ•°çš„å½¢å‚ã€‚å³ä»è°ƒç”¨ç‚¹çš„out factä¸­è·å–å®å‚çš„å€¼ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°çš„factï¼Œè¿™ä¸ªfactæŠŠå½¢å‚æ˜ å°„åˆ°å®ƒå¯¹åº”çš„å®å‚çš„å€¼</p>
<blockquote>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨å›¾ 1 é‡Œï¼Œ<em>transferEdge</em>(2â†’4, {a=6}) = {x=6}ã€‚æ­¤æ—¶ï¼Œedge transfer å‡½æ•°çš„è¿”å›å€¼åº”è¯¥ä»…åŒ…å«è¢«è°ƒç”¨å‡½æ•°çš„å½¢å‚çš„å€¼ï¼ˆæ¯”å¦‚å›¾ 1 é‡Œï¼Œ<code>addOne()</code> çš„ <code>x</code>ï¼‰ã€‚</p>
</blockquote>
</li>
<li><p><strong>Return edge</strong></p>
<p>edge transferå‡½æ•°å°†è¢«è°ƒç”¨æ–¹æ³•çš„è¿”å›å€¼ä¼ é€’ç»™è°ƒç”¨ç‚¹ç­‰å·å·¦ä¾§çš„å˜é‡ã€‚å³ä»è¢«è°ƒç”¨æ–¹æ³•çš„exitèŠ‚ç‚¹çš„OUT factä¸­è·å–è¿”å›å€¼ï¼ˆå¯èƒ½æœ‰å¤šä¸ªï¼‰ï¼Œç„¶åè¿”å›ä¸€ä¸ªå°†è°ƒç”¨ç‚¹ç­‰å·å·¦ä¾§çš„å˜é‡æ˜ å°„åˆ°è¿”å›å€¼çš„fact</p>
<blockquote>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨å›¾1ä¸­ï¼Œ<em>transferEdge</em>(6â†’3, {x=6,y=7}) = {b=7}ã€‚æ­¤æ—¶ï¼Œedge transfer å‡½æ•°è¿”å›çš„ç»“æœåº”è¯¥ä»…åŒ…å«è°ƒç”¨ç‚¹ç­‰å·å·¦ä¾§å˜é‡çš„å€¼ï¼ˆä¾‹å¦‚å›¾1åœ¨ç¬¬ä¸‰æ¡è¯­å¥å¤„çš„bï¼‰ã€‚å¦‚æœè¯¥è°ƒç”¨ç‚¹ç­‰å·å·¦ä¾§æ²¡æœ‰å˜é‡ï¼Œé‚£ä¹ˆ edge transfer å‡½æ•°ä»…ä¼šè¿”å›ä¸€ä¸ªç©º fact</p>
</blockquote>
</li>
</ul>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221115215418838.png" alt="image-20221115215418838"></p>
<h3 id="Tips-1"><a href="#Tips-1" class="headerlink" title="Tips"></a>Tips</h3><ul>
<li>åˆå§‹åŒ–è¿‡ç¨‹ä¸­ï¼Œè¿‡ç¨‹é—´æ±‚è§£å™¨éœ€è¦åˆå§‹åŒ–ç¨‹åºä¸­å›½æ‰€æœ‰çš„IN/OUT factï¼Œä½†ä»…éœ€è¦å¯¹ICFGçš„entryæ–¹æ³•çš„entryèŠ‚ç‚¹è®¾ç½®boundary factï¼Œå…¶å®ƒæ–¹æ³•çš„entryèŠ‚ç‚¹å’ŒéentryèŠ‚ç‚¹çš„åˆå§‹factæ˜¯ä¸€æ ·çš„</li>
<li>å®ç°transfçš„æ—¶å€™ä¸è¦ä¿®æ”¹æºèŠ‚ç‚¹çš„OUT</li>
<li>å¯¹äºè°ƒç”¨ç‚¹ï¼Œåœ¨ä¹‹å‰çš„è¿‡ç¨‹å†…å¸¸é‡ä¼ æ’­ä¸­æˆ‘ä»¬å¯¹äºç±»ä¼¼äº<code>x=A.foo()</code>è¿™æ ·çš„è¯­å¥ä½œx=NACå¤„ç†ï¼Œä½†åœ¨è¿‡ç¨‹é—´å¸¸é‡ä¼ æ’­ä¸­æˆ‘ä»¬åœ¨è¿™ä¸€ç‚¹å¤„å…ˆä¸å°†xæ·»åŠ åˆ°outfactä¸­ï¼Œè€Œæ˜¯åœ¨ä¸‹ä¸€è¯­å¥å‡ºæ ¹æ®è°ƒç”¨è¿”å›å€¼æ¥åˆ¤æ–­x</li>
</ul>
<h2 id="éä¸Šä¸‹æ–‡æ•æ„ŸæŒ‡é’ˆåˆ†æ"><a href="#éä¸Šä¸‹æ–‡æ•æ„ŸæŒ‡é’ˆåˆ†æ" class="headerlink" title="éä¸Šä¸‹æ–‡æ•æ„ŸæŒ‡é’ˆåˆ†æ"></a>éä¸Šä¸‹æ–‡æ•æ„ŸæŒ‡é’ˆåˆ†æ</h2><h2 id="ä¸Šä¸‹æ–‡æ•æ„Ÿçš„æŒ‡é’ˆåˆ†æ"><a href="#ä¸Šä¸‹æ–‡æ•æ„Ÿçš„æŒ‡é’ˆåˆ†æ" class="headerlink" title="ä¸Šä¸‹æ–‡æ•æ„Ÿçš„æŒ‡é’ˆåˆ†æ"></a>ä¸Šä¸‹æ–‡æ•æ„Ÿçš„æŒ‡é’ˆåˆ†æ</h2><h2 id="Alias-Awareçš„è¿‡ç¨‹é—´å¸¸é‡ä¼ æ’­"><a href="#Alias-Awareçš„è¿‡ç¨‹é—´å¸¸é‡ä¼ æ’­" class="headerlink" title="Alias-Awareçš„è¿‡ç¨‹é—´å¸¸é‡ä¼ æ’­"></a>Alias-Awareçš„è¿‡ç¨‹é—´å¸¸é‡ä¼ æ’­</h2><p><strong>åˆ«å</strong>ï¼šä¸€ä¸ªå†…å­˜ä¸­çš„æ•°æ®ä½ç½®å¯ä»¥é€šè¿‡ä¸åŒçš„ç¬¦å·åæ¥è®¿é—®ï¼Œè¿™äº›æŒ‡å‘å†…å­˜ä¸­çš„åŒä¸€ä½ç½®çš„ä¸åŒç¬¦å·äº’ä¸ºåˆ«å </p>
<ul>
<li>å¦‚æœå˜é‡ <code>x</code> å’Œ <code>y</code> æŒ‡å‘ç›¸åŒçš„å¯¹è±¡ï¼Œé‚£ä¹ˆ <code>x.f</code> å’Œ <code>y.f</code> è¿™ä¸¤ä¸ªå­—æ®µè®¿é—®æ„æˆäº†åˆ«åï¼Œå› ä¸ºå®ƒä»¬å®é™…ä¸ŠæŒ‡å‘åŒä¸€ä¸ªå­—æ®µ</li>
<li>å¦‚æœå˜é‡ <code>a</code> å’Œ <code>b</code> æŒ‡å‘åŒä¸€ä¸ªæ•°ç»„ï¼Œå¹¶ä¸” <code>i</code> å’Œ <code>j</code> æœ‰ç›¸åŒçš„å€¼ï¼Œé‚£ä¹ˆ <code>a[i]</code> å’Œ <code>b[j]</code> è¿™ä¸¤ä¸ªæ•°ç»„è®¿é—®æ„æˆäº†åˆ«åï¼Œå› ä¸ºå®ƒä»¬å®é™…ä¸ŠæŒ‡å‘åŒä¸€ä¸ªæ•°ç»„ä¸­çš„åŒä¸€ä¸ªä½ç½®ã€‚</li>
<li>åœ¨Javaä¸­é™æ€å­—æ®µä¸éœ€è¦è€ƒè™‘åˆ«åçš„å­˜åœ¨</li>
</ul>
<p>åœ¨ç±»å±‚æ¬¡åˆ†æä¸è¿‡ç¨‹é—´å¸¸é‡ä¼ æ’­çš„åŸºç¡€ä¹‹ä¸Šï¼Œå½“åˆ†æå®ä¾‹å­—æ®µçš„ load è¯­å¥æ—¶ï¼ˆè®¾è¯¥è¯­å¥ä¸º <em>L</em>ï¼‰ï¼Œæˆ‘ä»¬æ‰¾åˆ°æ‰€æœ‰å¯¹è¿™ä¸€å®ä¾‹å­—æ®µï¼ˆä»¥åŠå…¶åˆ«åï¼‰è¿›è¡Œä¿®æ”¹çš„ store è¯­å¥ï¼Œå¹¶å°†è¿™äº›è¯­å¥è¦ store çš„å€¼ meet ä¹‹åèµ‹ç»™ L ç­‰å·å·¦ä¾§çš„å˜é‡</p>
<p><strong>è®¡ç®—åˆ«å</strong>ï¼šå¯¹ä»»æ„ä¸¤ä¸ªå®ä¾‹å­—æ®µçš„è®¿é—®ï¼ˆè®¾ä¸º <code>x.f</code> å’Œ <code>y.f</code>ï¼‰ï¼Œå¦‚æœå®ƒä»¬çš„ base å˜é‡çš„æŒ‡é’ˆé›†ï¼ˆpoints-to setï¼‰æœ‰äº¤é›†ï¼ˆå³ <code>x</code> å’Œ <code>y</code> çš„æŒ‡é’ˆé›†æœ‰äº¤é›†ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬è®¤ä¸ºå¯¹è¿™ä¸¤ä¸ªå®ä¾‹å­—æ®µçš„è®¿é—®ï¼ˆ<code>x.f</code> å’Œ <code>y.f</code>ï¼‰äº’ä¸ºåˆ«å</p>
<h2 id="æ±¡ç‚¹åˆ†æ"><a href="#æ±¡ç‚¹åˆ†æ" class="headerlink" title="æ±¡ç‚¹åˆ†æ"></a>æ±¡ç‚¹åˆ†æ</h2><p>ä¿®æ”¹åçš„sourceå’Œsinkè§„åˆ™</p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221224162025487.png" alt="image-20221224162025487"></p>
<p>Sourcesæ˜¯äºŒå…ƒç»„ çš„é›†åˆï¼Œå…¶ä¸­mè¡¨ç¤ºä¸€ä¸ªè¢«è§†ä½œsourceçš„æ–¹æ³•çš„ç­¾åï¼Œè€Œuæ˜¯è¯¥æ–¹æ³•è¿”å›çš„æ±¡ç‚¹å¯¹è±¡çš„ç±»å‹</p>
<p>$t^u_l$è¡¨ç¤ºä¸€ä¸ªæ±¡ç‚¹å¯¹è±¡ï¼Œå…¶ä¸­uæ˜¯è¿™ä¸ªå¯¹è±¡çš„ç±»å‹ï¼Œlè¡¨ç¤ºåˆ›å»ºè¿™ä¸ªå¯¹è±¡çš„è°ƒç”¨ç‚¹</p>
<p><strong>æ±¡ç‚¹ä¼ æ’­</strong></p>
<p>ä¸‰ç§æ±¡ç‚¹ä¼ æ’­çš„æ–¹å¼</p>
<ul>
<li><strong>Base-to-result:</strong> å¦‚æœ receiver objectï¼ˆç”± <code>base</code> æŒ‡å‘ï¼‰è¢«æ±¡æŸ“äº†ï¼Œé‚£ä¹ˆè¯¥æ–¹æ³•è°ƒç”¨çš„è¿”å›å€¼ä¹Ÿä¼šè¢«æ±¡æŸ“ã€‚<code>StringBuilder.toString()</code> æ˜¯è¿™æ ·ä¸€ç±»æ–¹æ³•</li>
<li><strong>Arg-to-base:</strong> å¦‚æœæŸä¸ªç‰¹å®šçš„å‚æ•°è¢«æ±¡æŸ“äº†ï¼Œé‚£ä¹ˆ receiver objectï¼ˆç”± <code>base</code> æŒ‡å‘ï¼‰ä¹Ÿä¼šè¢«æ±¡æŸ“ã€‚<code>StringBuilder.append(String)</code> æ˜¯è¿™æ ·ä¸€ç±»æ–¹æ³•</li>
<li><strong>Arg-to-result:</strong> å¦‚æœæŸä¸ªç‰¹å®šçš„å‚æ•°è¢«æ±¡æŸ“äº†ï¼Œé‚£ä¹ˆè¯¥æ–¹æ³•è°ƒç”¨çš„è¿”å›å€¼ä¹Ÿä¼šè¢«æ±¡æŸ“ã€‚<code>String.concat(String)</code> æ˜¯è¿™æ ·ä¸€ç±»æ–¹æ³•</li>
</ul>
<p>ä¸ºäº†å¤„ç†æ±¡ç‚¹ä¼ æ’­ï¼Œä¸ºæ±¡ç‚¹åˆ†æå®šä¹‰äº†ä¸€ç§æ–°çš„è¾“å…¥ï¼Œå«åš<strong>TaintTranfers</strong>ï¼Œæ˜¯åˆå››å…ƒç»„<code>&lt;m,from,to,u&gt;</code>æ„æˆçš„é›†åˆ</p>
<ul>
<li>m: ä¼šå¼•å‘æ±¡ç‚¹ä¼ æ’­çš„æ–¹æ³•</li>
<li>from: æ±¡ç‚¹ä¼šä»from</li>
<li>to: ä¼ åˆ°toä¸­</li>
<li>u: ä¼ æ’­åæ±¡ç‚¹çš„ç±»å‹</li>
</ul>
<p>ä¸‰ç§åˆ†æè§„åˆ™</p>
<p><img src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20221224162805411.png" alt="image-20221224162805411"></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="mailto:undefined">jianjian</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="https://mujian.work/2022/09/19/%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90/">https://mujian.work/2022/09/19/%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="https://mujian.work" target="_blank">åˆ’æ°´æ‘¸é±¼</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/">ç¨‹åºè¯­è¨€</a><a class="post-meta__tags" href="/tags/%E9%9D%99%E6%80%81%E5%88%86%E6%9E%90/">é™æ€åˆ†æ</a></div><div class="post_share"><div class="social-share" data-image="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20220919223230209.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/11/29/%E5%B9%B6%E5%8F%91%E7%AE%97%E6%B3%95%E4%B8%8E%E7%90%86%E8%AE%BA/"><img class="prev-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">å¹¶å‘ç®—æ³•ä¸ç†è®º</div></div></a></div><div class="next-post pull-right"><a href="/2022/09/09/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"><img class="next-cover" src="https://littleblacksimagesbed.oss-cn-hangzhou.aliyuncs.com/mjmm/image-20230120142836976.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">è®¾è®¡æ¨¡å¼</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#01-Introduction"><span class="toc-number">1.</span> <span class="toc-text">01-Introduction</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Soundness%E7%9A%84%E5%BF%85%E8%A6%81%E6%80%A7"><span class="toc-number">1.1.</span> <span class="toc-text">Soundnessçš„å¿…è¦æ€§</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E5%88%86%E6%9E%90%E4%BE%8B%E5%AD%90"><span class="toc-number">1.2.</span> <span class="toc-text">é™æ€åˆ†æä¾‹å­</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Summary"><span class="toc-number">1.3.</span> <span class="toc-text">Summary</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#02-Intermediate-Representation"><span class="toc-number">2.</span> <span class="toc-text">02-Intermediate Representation</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Compilers-and-Static-Analyzers"><span class="toc-number">2.1.</span> <span class="toc-text">Compilers and Static Analyzers</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AST-vs-IR"><span class="toc-number">2.2.</span> <span class="toc-text">AST vs. IR</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IR-Three-Address-Code-3AC"><span class="toc-number">2.3.</span> <span class="toc-text">IR: Three-Address Code (3AC)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3AC-in-Real-Static-Analyzer"><span class="toc-number">2.4.</span> <span class="toc-text">3AC in Real Static Analyzer</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Static-Single-Assignment-SSA"><span class="toc-number">2.5.</span> <span class="toc-text">Static Single Assignment (SSA)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Basic-Blocks-BB"><span class="toc-number">2.6.</span> <span class="toc-text">Basic Blocks (BB)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Control-Flow-Graphs-CFG"><span class="toc-number">2.7.</span> <span class="toc-text">Control Flow Graphs (CFG)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Summary-1"><span class="toc-number">2.8.</span> <span class="toc-text">Summary</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#03-Data-Flow-Analysis-Applications-I"><span class="toc-number">3.</span> <span class="toc-text">03- Data Flow Analysis - Applications I</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Overview-of-Data-Flow-Analysis"><span class="toc-number">3.1.</span> <span class="toc-text">Overview of Data Flow Analysis</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Preliminaries-of-Data-Flow-Analysis"><span class="toc-number">3.2.</span> <span class="toc-text">Preliminaries of Data Flow Analysis</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Reaching-Definitions-Analysis"><span class="toc-number">3.3.</span> <span class="toc-text">Reaching Definitions Analysis</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Reaching-Definitions"><span class="toc-number">3.3.1.</span> <span class="toc-text">Reaching Definitions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Understanding-Reaching-Definitions"><span class="toc-number">3.3.2.</span> <span class="toc-text">Understanding Reaching Definitions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Reaching-Definitions-Analysis%E7%AE%97%E6%B3%95"><span class="toc-number">3.3.3.</span> <span class="toc-text">Reaching Definitions Analysisç®—æ³•</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Live-Variables-Analysis"><span class="toc-number">3.4.</span> <span class="toc-text">Live Variables Analysis</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Available-Expressions-Analysis"><span class="toc-number">3.5.</span> <span class="toc-text">Available Expressions Analysis</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">3.6.</span> <span class="toc-text">æ€»ç»“</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#06-Data-Flow-Analysis-Foundations-2"><span class="toc-number">4.</span> <span class="toc-text">06 Data Flow Analysis - Foundations 2</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Constant-Propagation"><span class="toc-number">4.1.</span> <span class="toc-text">Constant Propagation</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#07-Interprocedural-Analysis"><span class="toc-number">5.</span> <span class="toc-text">07 Interprocedural Analysis</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Class-Hierarchy-Analysis-CHA"><span class="toc-number">5.1.</span> <span class="toc-text">Class Hierarchy Analysis* (CHA)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Call-Graph-Construction"><span class="toc-number">5.2.</span> <span class="toc-text">Call Graph Construction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Interprocedural-Data-Flow-Analysis"><span class="toc-number">5.3.</span> <span class="toc-text">Interprocedural Data-Flow Analysis</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-1"><span class="toc-number">5.4.</span> <span class="toc-text">æ€»ç»“</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#08-Pointer-Analysis"><span class="toc-number">6.</span> <span class="toc-text">08 Pointer Analysis</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Introduction"><span class="toc-number">6.1.</span> <span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Key"><span class="toc-number">6.2.</span> <span class="toc-text">Key</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Heap-Abstraction"><span class="toc-number">6.2.1.</span> <span class="toc-text">Heap Abstraction</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Context-Sensitivity"><span class="toc-number">6.2.2.</span> <span class="toc-text">Context Sensitivity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Flow-Sensitivity"><span class="toc-number">6.2.3.</span> <span class="toc-text">Flow Sensitivity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Analysis-Scope"><span class="toc-number">6.2.4.</span> <span class="toc-text">Analysis Scope</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Concerned-Statements"><span class="toc-number">6.3.</span> <span class="toc-text">Concerned Statements</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Summary-2"><span class="toc-number">6.4.</span> <span class="toc-text">Summary</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#09-Pointer-Analysis-Foundations-I"><span class="toc-number">7.</span> <span class="toc-text">09 Pointer Analysis Foundations (I)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Rules"><span class="toc-number">7.1.</span> <span class="toc-text">Rules</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PFG"><span class="toc-number">7.2.</span> <span class="toc-text">PFG</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Alogrithms"><span class="toc-number">7.3.</span> <span class="toc-text">Alogrithms</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-2"><span class="toc-number">7.4.</span> <span class="toc-text">æ€»ç»“</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#10-Pointer-Analysis-Foundations-II"><span class="toc-number">8.</span> <span class="toc-text">10 Pointer Analysis Foundations (II)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Method-Call"><span class="toc-number">8.1.</span> <span class="toc-text">Method Call</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Rule-Call"><span class="toc-number">8.2.</span> <span class="toc-text">Rule:Call</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Interprocedural-Pointer-Analysis"><span class="toc-number">8.3.</span> <span class="toc-text">Interprocedural Pointer Analysis</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-3"><span class="toc-number">8.4.</span> <span class="toc-text">æ€»ç»“</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#11-Pointer-Analysis-Context-Sensitivity-I"><span class="toc-number">9.</span> <span class="toc-text">11 Pointer Analysis - Context Sensitivity I</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Rules-1"><span class="toc-number">9.1.</span> <span class="toc-text">Rules</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Rule-Call-1"><span class="toc-number">9.2.</span> <span class="toc-text">Rule:Call</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-4"><span class="toc-number">9.3.</span> <span class="toc-text">æ€»ç»“</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Pointer-Analysis-Context-Sensitivity-II"><span class="toc-number">10.</span> <span class="toc-text">Pointer Analysis Context Sensitivity (II)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Algorithm"><span class="toc-number">10.1.</span> <span class="toc-text">Algorithm</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#AddReachable"><span class="toc-number">10.1.1.</span> <span class="toc-text">AddReachable()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AddEdge"><span class="toc-number">10.1.2.</span> <span class="toc-text">AddEdge()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Propagate"><span class="toc-number">10.1.3.</span> <span class="toc-text">Propagate()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ProcessCall"><span class="toc-number">10.1.4.</span> <span class="toc-text">ProcessCall()</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E4%BD%93"><span class="toc-number">10.2.</span> <span class="toc-text">å˜ä½“</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Call-Site-sensitivity"><span class="toc-number">10.2.1.</span> <span class="toc-text">Call-Site sensitivity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Object-sensitivity"><span class="toc-number">10.2.2.</span> <span class="toc-text">Object sensitivity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Type-sensitivity"><span class="toc-number">10.2.3.</span> <span class="toc-text">Type sensitivity</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-5"><span class="toc-number">10.3.</span> <span class="toc-text">æ€»ç»“</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Static-Analysis-for-Security"><span class="toc-number">11.</span> <span class="toc-text">Static Analysis for Security</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Information-Flow-Security"><span class="toc-number">11.1.</span> <span class="toc-text">Information Flow Security</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Confidentiality-and-Integrity"><span class="toc-number">11.2.</span> <span class="toc-text">Confidentiality and Integrity</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Explicit-Flows-and-Covert-Channels"><span class="toc-number">11.3.</span> <span class="toc-text">Explicit Flows and Covert Channels</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Taint-Analysis"><span class="toc-number">11.4.</span> <span class="toc-text">Taint Analysis</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-6"><span class="toc-number">11.5.</span> <span class="toc-text">æ€»ç»“</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Lab-lemon"><span class="toc-number">12.</span> <span class="toc-text">Lab:lemon:</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%BB%E4%BB%A3%E7%A0%81%E6%A3%80%E6%B5%8B"><span class="toc-number">12.1.</span> <span class="toc-text">æ­»ä»£ç æ£€æµ‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E5%8F%AF%E5%88%B0%E8%BE%BE%E4%BB%A3%E7%A0%81"><span class="toc-number">12.1.1.</span> <span class="toc-text">ä¸å¯åˆ°è¾¾ä»£ç </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A0%E7%94%A8%E8%B5%8B%E5%80%BC"><span class="toc-number">12.1.2.</span> <span class="toc-text">æ— ç”¨èµ‹å€¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Tips"><span class="toc-number">12.1.3.</span> <span class="toc-text">Tips</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84%E5%88%86%E6%9E%90%E4%B8%8E%E8%BF%87%E7%A8%8B%E9%97%B4%E5%B8%B8%E9%87%8F%E4%BC%A0%E6%92%AD"><span class="toc-number">12.2.</span> <span class="toc-text">ç±»å±‚æ¬¡ç»“æ„åˆ†æä¸è¿‡ç¨‹é—´å¸¸é‡ä¼ æ’­</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Tips-1"><span class="toc-number">12.2.1.</span> <span class="toc-text">Tips</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%9E%E4%B8%8A%E4%B8%8B%E6%96%87%E6%95%8F%E6%84%9F%E6%8C%87%E9%92%88%E5%88%86%E6%9E%90"><span class="toc-number">12.3.</span> <span class="toc-text">éä¸Šä¸‹æ–‡æ•æ„ŸæŒ‡é’ˆåˆ†æ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8A%E4%B8%8B%E6%96%87%E6%95%8F%E6%84%9F%E7%9A%84%E6%8C%87%E9%92%88%E5%88%86%E6%9E%90"><span class="toc-number">12.4.</span> <span class="toc-text">ä¸Šä¸‹æ–‡æ•æ„Ÿçš„æŒ‡é’ˆåˆ†æ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Alias-Aware%E7%9A%84%E8%BF%87%E7%A8%8B%E9%97%B4%E5%B8%B8%E9%87%8F%E4%BC%A0%E6%92%AD"><span class="toc-number">12.5.</span> <span class="toc-text">Alias-Awareçš„è¿‡ç¨‹é—´å¸¸é‡ä¼ æ’­</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B1%A1%E7%82%B9%E5%88%86%E6%9E%90"><span class="toc-number">12.6.</span> <span class="toc-text">æ±¡ç‚¹åˆ†æ</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2023 By jianjian</div><div class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Oh, year!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.2
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container:not\([display]\)').forEach(node => {
            const target = node.parentNode
            if (target.nodeName.toLowerCase() === 'li') {
              target.parentNode.classList.add('has-jax')
            } else {
              target.classList.add('has-jax')
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.css"><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', { class: 'katex-wrap'})
  })
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>